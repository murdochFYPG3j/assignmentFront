<form name="resultImportForm" novalidate>
    <div class="modal-header">
        <h3 class="modal-title">Import results</h3>
    </div>
    <div class="modal-body">
       
        
        <label>Please upload results: </label><span> </span>
       

        <div ng-controller = "myCtrl">
            <input type = "file" file-model = "myFile"/>
            <button ng-click = "uploadFile()">upload me</button>
        </div>
      
        <br>
       <!-- <input vw-file-upload type="file" data-allowed-file-extensions='["xlsx"]' accept=".xlsx" ng-model="attachment.file">-->
        <br>

        Please upload excel files only [xlsx]
        <br>
        (Max. 5 MB per file.) 

    </div>
    <div class="modal-footer">
       
    </div>
</form>

<html>

  

  


        <script>
           angular.module('was-admin', []);

            myApp.directive('fileModel', ['$parse', function ($parse) {
                return {
                    restrict: 'A',
                    link: function(scope, element, attrs) {
                        var model = $parse(attrs.fileModel);
                        var modelSetter = model.assign;

                        element.bind('change', function(){
                            scope.$apply(function(){
                                modelSetter(scope, element[0].files[0]);
                            });
                        });
                    }
                };
            }]);

            myApp.service('fileUpload', ['$https:', function ($https:) {
                this.uploadFileToUrl = function(file, uploadUrl){
                    var fd = new FormData();
                    fd.append('file', file);

                    $https:.post(uploadUrl, fd, {
                        transformRequest: angular.identity,
                        headers: {'Content-Type': undefined}
                    })

                        .success(function(){
                    })

                        .error(function(){
                    });
                }
            }]);

            myApp.controller('myCtrl', ['$scope', 'fileUpload', function($scope, fileUpload){
                $scope.uploadFile = function(){
                    var file = $scope.myFile;

                    console.log('file is ' );
                    console.dir(file);

                    var uploadUrl = "/fileUpload";
                    fileUpload.uploadFileToUrl(file, uploadUrl);
                };
            }]);

        </script>

   